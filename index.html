<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gestão MPE — Protótipo</title>
  <meta name="description" content="Protótipo mobile-first de gestão empresarial para micro e pequenas empresas." />
  <link rel="stylesheet" href="./assets/styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="logo">GM</span>
      <div class="brand-text">
        <div class="brand-name">Gestão MPE</div>
        <div class="brand-sub">protótipo • offline</div>
      </div>
    </div>

    <button class="icon-btn" id="btnTheme" title="Alternar tema" aria-label="Alternar tema">
      <span class="icon">☀︎</span>
    </button>
  </header>

  <main class="container">
    <section class="card hero">
      <div>
        <h1>Visão rápida</h1>
        <p class="muted">Cadastre entradas e saídas, acompanhe o saldo e exporte relatórios.</p>
      </div>

      <div class="kpis">
        <div class="kpi">
          <div class="kpi-label">Saldo atual</div>
          <div class="kpi-value" id="kpiBalance">R$ 0,00</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Entradas (mês)</div>
          <div class="kpi-value" id="kpiIncome">R$ 0,00</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Saídas (mês)</div>
          <div class="kpi-value" id="kpiExpense">R$ 0,00</div>
        </div>
      </div>
    </section>

    <nav class="tabs" aria-label="Navegação">
      <button class="tab active" data-view="lancamentos">Lançamentos</button>
      <button class="tab" data-view="relatorios">Relatórios</button>
      <button class="tab" data-view="projecoes">Projeções</button>
      <button class="tab" data-view="config">Config</button>
    </nav>

    <!-- Lançamentos -->
    <section class="view" id="view-lancamentos">
      <div class="card">
        <h2>Novo lançamento</h2>
        <form id="txForm" class="form">
          <div class="grid">
            <label class="field">
              <span>Tipo</span>
              <select id="txType" required>
                <option value="income">Entrada</option>
                <option value="expense">Saída</option>
              </select>
            </label>

            <label class="field">
              <span>Data</span>
              <input id="txDate" type="date" required />
            </label>

            <label class="field">
              <span>Valor (R$)</span>
              <input id="txAmount" type="number" step="0.01" min="0" placeholder="0,00" required />
            </label>

            <label class="field">
              <span>Categoria</span>
              <input id="txCategory" type="text" placeholder="Ex: Vendas, Aluguel, Marketing" required />
            </label>
          </div>

          <label class="field">
            <span>Descrição (opcional)</span>
            <input id="txNote" type="text" placeholder="Detalhes do lançamento" />
          </label>

          <div class="actions">
            <button type="submit" class="btn primary">Salvar</button>
            <button type="button" class="btn" id="btnSeed">Criar dados de exemplo</button>
            <button type="button" class="btn danger" id="btnWipe">Limpar tudo</button>
          </div>
        </form>
      </div>

      <div class="card">
        <div class="row space">
          <h2>Movimentações</h2>
          <div class="filters">
            <select id="filterMonth" aria-label="Filtrar por mês"></select>
            <select id="filterType" aria-label="Filtrar por tipo">
              <option value="all">Tudo</option>
              <option value="income">Entradas</option>
              <option value="expense">Saídas</option>
            </select>
          </div>
        </div>

        <div class="table-wrap">
          <table class="table" aria-label="Lista de lançamentos">
            <thead>
              <tr>
                <th>Data</th>
                <th>Tipo</th>
                <th>Categoria</th>
                <th class="right">Valor</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="txTable"></tbody>
          </table>
        </div>

        <p class="muted small" id="txHint"></p>
      </div>
    </section>

    <!-- Relatórios -->
    <section class="view hidden" id="view-relatorios">
      <div class="card">
        <div class="row space">
          <h2>Relatórios</h2>
          <button class="btn primary" id="btnExportCsv">Exportar CSV</button>
        </div>

        <div class="grid-2">
          <div class="panel">
            <h3>Resumo do mês</h3>
            <div class="mini" id="reportMonthSummary"></div>
          </div>

          <div class="panel">
            <h3>Por categoria</h3>
            <div class="mini" id="reportByCategory"></div>
          </div>
        </div>

        <p class="muted small">Observação: este protótipo roda offline e salva no seu navegador (localStorage).</p>
      </div>
    </section>

    <!-- Projeções -->
    <section class="view hidden" id="view-projecoes">
      <div class="card">
        <h2>Projeções (MVP)</h2>
        <p class="muted">Aqui vamos colocar sugestões baseadas nos dados (ex: meta de caixa, reserva, teto de gastos).</p>

        <div class="grid-2">
          <div class="panel">
            <h3>Reserva recomendada</h3>
            <p class="muted small">Regra simples: <strong>1 a 3 meses</strong> do custo fixo.</p>
            <div class="mini" id="projReserve"></div>
          </div>

          <div class="panel">
            <h3>Meta de saldo</h3>
            <p class="muted small">Proposta inicial: manter saldo > <strong>30 dias</strong> de saídas médias.</p>
            <div class="mini" id="projTarget"></div>
          </div>
        </div>

        <div class="panel">
          <h3>Sugestões automáticas (rascunho)</h3>
          <ul class="list" id="projTips"></ul>
        </div>
      </div>
    </section>

    <!-- Config -->
    <section class="view hidden" id="view-config">
      <div class="card">
        <h2>Configurações</h2>

        <div class="grid">
          <label class="field">
            <span>Nome da empresa</span>
            <input id="cfgCompany" type="text" placeholder="Minha Empresa LTDA" />
          </label>

          <label class="field">
            <span>Moeda</span>
            <select id="cfgCurrency">
              <option value="BRL">BRL (R$)</option>
              <option value="USD">USD ($)</option>
              <option value="EUR">EUR (€)</option>
            </select>
          </label>
        </div>

        <div class="actions">
          <button class="btn primary" id="btnSaveCfg">Salvar</button>
        </div>

        <details class="details">
          <summary>Roadmap (próximas etapas)</summary>
          <ul class="list">
            <li>Cadastro de contas (bancos/caixa) e centro de custos.</li>
            <li>Relatórios anuais + gráficos.</li>
            <li>Importação/Exportação JSON + backup.</li>
            <li>Notas/boletos/NF (integrações futuras).</li>
            <li>Multiusuário e sincronização (quando houver backend).</li>
          </ul>
        </details>
      </div>
    </section>

    <footer class="footer">
      <span class="muted small">v0.1 • Mobile-first • GitHub Pages</span>
    </footer>
  </main>

  <script src="./assets/app.js"></script>
</body>
</html>
